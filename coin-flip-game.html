<!DOCTYPE html>
<html>
  <head>
    <title>Coin flip</title>
  </head>
  <body>
    <button onclick="
      playGame('heads');
    ">heads
    </button>

    <button onclick="
      playGame('tails');
    ">tails
    </button>

    <button onclick="
      score.wins = 0;
      score.losses = 0;
      localStorage.removeItem(score);
    ">Reset score</button>
    
    <script>

    let score = JSON.parse(localStorage.getItem('score')) || { 
          wins: 0,
          losses: 0,
        };
      /*
    let score = {
      wins: 0,
      losses: 0,
    };*/

    function playGame(guess) {
      const randomNumber = Math.random();
      const result = randomNumber < 0.5 ? 'heads' : 'tails';

      //updating score
      if (guess === result) {
        score.wins ++ ;
      } else { 
        score.losses ++ ;
      }

      let resultsMessage = guess === result ? 'You win!' : 'You lose';
      let displayScore = `Wins: ${score.wins}, Losses ${score.losses}`;
      
      alert(`${resultsMessage}
${displayScore}`);

      localStorage.setItem('score', JSON.stringify(score));
    }
    

    </script>
  </body>
</html>